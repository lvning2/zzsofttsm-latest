<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人设备信息</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <script src="/layui/layui.js"></script>
    <script src="/js/jquery-3.4.1.js" type="text/javascript"></script>
    <script src="/js/getUrlParam.js"></script>
  <script>
    var host='http://localhost:8080';
  </script>
</head>
<body>




  <form class="layui-form" action="" lay-filter="example">

    <input name="id" type="hidden" />
    <input name="personLiableId" type="hidden" />

    <div class="layui-form-item">
      <label class="layui-form-label">设备编号</label>
      <div class="layui-input-block">
        <input type="text" name="equipmentNumber" lay-verify="title" autocomplete="off" placeholder="请输入设备编号" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label layui-form-item">设备类型</label>
      <div class="layui-input-block">
        <select name="equipmentType" lay-filter="aihao">
          <option value="台式电脑">台式电脑</option>
          <option value="笔记本">笔记本</option>
        </select>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">硬盘容量</label>
      <div class="layui-input-block">
        <input type="text" name="hdCapacity" lay-verify="title" autocomplete="off" placeholder="请输入硬盘容量" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item layui-form-item">
      <label class="layui-form-label">IP地址</label>
      <div class="layui-input-block">
        <input type="text" name="ipAddress" lay-verify="title" autocomplete="off" placeholder="自动选择" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item layui-form-item">
      <label class="layui-form-label">操作系统版本</label>
      <div class="layui-input-block">
        <select name="osVersion" lay-filter="aihao">
          <option value="Win 10">Win 10</option>
          <option value="Win 7">Win 7</option>
          <option value="IOS">IOS</option>
          <option value="Win server">Win server</option>
        </select>
      </div>
    </div>


    <div class="layui-inline layui-form-item">
      <label class="layui-form-label">安装时间</label>
      <div class="layui-input-block">
        <input type="text" name="osInstallTime" id="date1" autocomplete="off" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item ">
      <label class="layui-form-label">责任人</label>
      <div class="layui-input-block">
        <input disabled type="text" name="personName" lay-verify="title" autocomplete="off" placeholder="" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">备注</label>
      <div class="layui-input-block">
        <input type="text" name="remark" lay-verify="title" autocomplete="off" placeholder="无" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">是否联网</label>
      <div class="layui-input-block">
        <input type="radio" name="isNetwork" value="1" title="是" checked="">
        <input type="radio" name="isNetwork" value="0" title="否">
      </div>
    </div>
    
    <div class="layui-form-item layui-form-item">
      <label class="layui-form-label">CPU</label>
      <div class="layui-input-block">
        <select name="cpu" lay-filter="aihao">
          <option value="i3">i3</option>
          <option value="i5">i5</option>
          <option value="i7">i7</option>
        </select>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">显卡</label>
      <div class="layui-input-block">
        <select name="graphicsCard" lay-filter="aihao">
          <option value="集成显卡">集成显卡</option>
          <option value="0">GTX 750</option>
          <option value="1">GTX 950</option>
        </select>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">内存</label>
      <div class="layui-input-block">
        <select name="memory" lay-filter="aihao">
          <option value="4"> 4G</option>
          <option value="8"> 8G</option>
          <option value="16">16G</option>
          <option value="24">24G</option>
          <option value="32">32G</option>
        </select>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">锁号</label>
      <div class="layui-input-block">
        <input type="text" name="lockNumber" lay-verify="title" autocomplete="off" placeholder="请输入锁号" class="layui-input">
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">显示器尺寸</label>
      <div class="layui-input-block">
        <input type="text" name="monitor" lay-verify="title" autocomplete="off" placeholder="请输入显示器尺寸" class="layui-input">
      </div>
    </div>

<!--    <div class="layui-form-item">-->
<!--      <div class="layui-input-block">-->
<!--        <button type="button" class="layui-btn layui-btn-normal" id="LAY-component-form-setval">赋值</button>-->
<!--        <button type="button" class="layui-btn layui-btn-normal" id="LAY-component-form-getval">取值</button>-->
<!--        <button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>-->
<!--      </div>-->
<!--    </div>-->

  
  </form>




</body>

<script>
var a;
  function update(){
    a();
  }


layui.use('form', function(){
  var form = layui.form; //只有执行了这一步，部分表单元素才会自动修饰成功
  
  //……
  
  //但是，如果你的HTML是动态生成的，自动渲染就会失效
  //因此你需要在相应的地方，执行下述方法来进行渲染
  form.render();

  //表单取值
// layui.$('#LAY-component-form-getval').on('click', function(){
  function submit() {
    var data = form.val('example');
    $.ajax({
      url:host+"/computer/updateComputer",
      type:'post',
      data:data
    })
  }
  a=submit;

    //alert(JSON.stringify(data));
  // });
 var myid = localStorage.getItem("id");
  //表单赋值
  //layui.$('#LAY-component-form-setval').on('click', function(){
    $(function(){
      $.ajax({
      url:host+"/computer/getByUid?uid="+myid,
      type:'get',
      success:function(data){
                        
        if(data.code==0){
          form.val('example', {
                          "id":data.data.id,
                          "equipmentNumber":data.data.equipmentNumber,
                          "equipmentType":data.data.equipmentType,
                          "hdCapacity":data.data.hdCapacity,
                          "ipAddress":data.data.ipAddress,
                          "osVersion":data.data.osVersion,
                          "osInstallTime":data.data.osInstallTime,
                          "uid":data.data.uid,
                          "personLiableId":data.data.personLiableId,
                          "personName":data.data.personName,
                          "remark":data.data.remark,
                          "isNetwork":data.data.isNetwork,
                          "cpu":data.data.cpu,
                          "graphicsCard":data.data.graphicsCard,
                          "memory":data.data.memory,
                          "lockNumber":data.data.lockNumber,
                          "monitor":data.data.monitor
                        });
                            
          }

        }
    })
   

    //});


    
      // "username": "贤心" // "name": "value"
      // ,"password": "123456"
      // ,"interest": 1
      // ,"like[write]": true //复选框选中状态
      // ,"close": true //开关状态
      // ,"sex": "女"
      // ,"desc": "我爱 layui"
   
  });


});  

layui.use('laydate', function(){
  var laydate = layui.laydate;

  //执行一个laydate实例
  laydate.render({
    elem: '#date1' //指定元素
    ,trigger: 'click'
  });
});


</script>


</html>






